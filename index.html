<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="Predictive Disease Outbreak Dashboard â€” Real-time analytics integrating hospital admissions and water quality data to forecast outbreaks 48 hours in advance.">
  <title>Disease Outbreak Dashboard | Predictive Analytics</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Leaflet Heat -->
  <script src="https://unpkg.com/leaflet.heat@0.2.0/dist/leaflet-heat.js"></script>

  <!-- App CSS -->
  <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
  <!-- â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <header class="header">
    <div class="header-left">
      <div class="logo">
        <span class="logo-icon">ðŸ¦ </span>
        <div>
          <h1>Disease Outbreak Dashboard</h1>
          <p class="header-subtitle">Predictive Analytics & Early Warning System</p>
        </div>
      </div>
    </div>
    <div class="header-right">
      <div class="status-indicator" id="statusIndicator">
        <span class="status-dot"></span>
        <span>Live</span>
      </div>
      <div class="last-updated" id="lastUpdated">
        Last updated: â€”
      </div>
      <a href="/business-model.html" class="btn-business-model" title="View Business Model">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="2" y="3" width="20" height="18" rx="2" />
          <line x1="8" y1="21" x2="8" y2="13" />
          <line x1="16" y1="21" x2="16" y2="9" />
          <line x1="12" y1="21" x2="12" y2="7" />
        </svg>
        <span>Business Model</span>
      </a>
      <button class="btn-refresh" id="btnRefresh" title="Refresh Data">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="23 4 23 10 17 10"></polyline>
          <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
        </svg>
      </button>
    </div>
  </header>

  <!-- â”€â”€ Main Layout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <main class="main-layout">
    <!-- KPI Cards Row -->
    <section class="kpi-row" id="kpiRow">
      <div class="kpi-card" id="kpiAdmissions">
        <div class="kpi-icon kpi-icon-admissions">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
            <circle cx="9" cy="7" r="4" />
            <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
            <path d="M16 3.13a4 4 0 0 1 0 7.75" />
          </svg>
        </div>
        <div class="kpi-content">
          <span class="kpi-label">24h Admissions</span>
          <span class="kpi-value" id="kpiAdmissionsValue">â€”</span>
          <span class="kpi-change" id="kpiAdmissionsChange"></span>
        </div>
      </div>

      <div class="kpi-card" id="kpiAlerts">
        <div class="kpi-icon kpi-icon-alerts">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" />
            <line x1="12" y1="9" x2="12" y2="13" />
            <line x1="12" y1="17" x2="12.01" y2="17" />
          </svg>
        </div>
        <div class="kpi-content">
          <span class="kpi-label">Active Alerts</span>
          <span class="kpi-value" id="kpiAlertsValue">â€”</span>
          <span class="kpi-change kpi-change-critical" id="kpiAlertsCritical"></span>
        </div>
      </div>

      <div class="kpi-card" id="kpiRegions">
        <div class="kpi-icon kpi-icon-regions">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
            <circle cx="12" cy="10" r="3" />
          </svg>
        </div>
        <div class="kpi-content">
          <span class="kpi-label">Active Regions</span>
          <span class="kpi-value" id="kpiRegionsValue">â€”</span>
          <span class="kpi-change" id="kpiRegionsTotal"></span>
        </div>
      </div>

      <div class="kpi-card" id="kpiForecast">
        <div class="kpi-icon kpi-icon-forecast">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" />
          </svg>
        </div>
        <div class="kpi-content">
          <span class="kpi-label">48h Trend</span>
          <span class="kpi-value" id="kpiForecastValue">â€”</span>
          <span class="kpi-change" id="kpiForecastLabel"></span>
        </div>
      </div>
    </section>

    <!-- Content Grid -->
    <div class="content-grid">
      <!-- Left Column: Map + Charts -->
      <div class="content-left">
        <!-- Map Panel -->
        <section class="panel map-panel">
          <div class="panel-header">
            <h2>Geographic Hotspot Map</h2>
            <div class="panel-actions">
              <select id="mapDiseaseFilter" class="select-filter">
                <option value="all">All Diseases</option>
                <option value="Cholera">Cholera</option>
                <option value="Typhoid">Typhoid</option>
                <option value="Dengue">Dengue</option>
                <option value="Malaria">Malaria</option>
              </select>
            </div>
          </div>
          <div id="map" class="map-container"></div>
          <div class="map-legend">
            <div class="legend-item"><span class="legend-dot" style="background: #22c55e"></span> Low Risk</div>
            <div class="legend-item"><span class="legend-dot" style="background: #f59e0b"></span> Moderate</div>
            <div class="legend-item"><span class="legend-dot" style="background: #f97316"></span> High Risk</div>
            <div class="legend-item"><span class="legend-dot" style="background: #ef4444"></span> Critical</div>
          </div>
        </section>

        <!-- Trend Chart -->
        <section class="panel">
          <div class="panel-header">
            <h2>Admission Trends</h2>
            <div class="panel-actions">
              <select id="trendTimeRange" class="select-filter">
                <option value="48">Last 48h</option>
                <option value="120" selected>Last 5 Days</option>
                <option value="240">Last 10 Days</option>
              </select>
            </div>
          </div>
          <div class="chart-container">
            <canvas id="trendChart"></canvas>
          </div>
        </section>

        <!-- Forecast Chart -->
        <section class="panel">
          <div class="panel-header">
            <h2>48-Hour Outbreak Forecast</h2>
            <div class="forecast-badge" id="forecastBadge">â€”</div>
          </div>
          <div class="chart-container">
            <canvas id="forecastChart"></canvas>
          </div>
        </section>

        <!-- Bottom Charts Row -->
        <div class="charts-row">
          <section class="panel panel-half">
            <div class="panel-header">
              <h2>Disease Breakdown</h2>
            </div>
            <div class="chart-container chart-container-small">
              <canvas id="diseaseChart"></canvas>
            </div>
          </section>
          <section class="panel panel-half">
            <div class="panel-header">
              <h2>Severity Distribution</h2>
            </div>
            <div class="chart-container chart-container-small">
              <canvas id="severityChart"></canvas>
            </div>
          </section>
        </div>
      </div>

      <!-- Right Column: Alerts + Risk + Water Quality -->
      <div class="content-right">
        <!-- Alerts Panel -->
        <section class="panel alerts-panel">
          <div class="panel-header">
            <h2>âš¡ Active Alerts</h2>
            <span class="alert-counter" id="alertCounter">0</span>
          </div>
          <div class="alerts-list" id="alertsList">
            <div class="loading-placeholder">Loading alerts...</div>
          </div>
        </section>

        <!-- Risk Classification Panel -->
        <section class="panel risk-panel">
          <div class="panel-header">
            <h2>ðŸŽ¯ Risk Classification</h2>
          </div>
          <div class="risk-list" id="riskList">
            <div class="loading-placeholder">Loading risk data...</div>
          </div>
        </section>

        <!-- Water Quality Panel -->
        <section class="panel water-panel">
          <div class="panel-header">
            <h2>ðŸ’§ Water Quality Index</h2>
          </div>
          <div class="water-list" id="waterList">
            <div class="loading-placeholder">Loading water data...</div>
          </div>
        </section>

        <!-- Correlations Panel -->
        <section class="panel correlations-panel">
          <div class="panel-header">
            <h2>ðŸ”— Waterâ€“Disease Correlations</h2>
          </div>
          <div class="correlations-list" id="correlationsList">
            <div class="loading-placeholder">Loading correlations...</div>
          </div>
        </section>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <p>Predictive Disease Outbreak Dashboard â€¢ Real-time Analytics Engine â€¢ Data refreshes every 30s</p>
  </footer>

  <!-- App Scripts -->
  <script src="/js/map.js"></script>
  <script src="/js/charts.js"></script>
  <script src="/js/alerts.js"></script>
  <script src="/js/app.js"></script>
</body>

</html>